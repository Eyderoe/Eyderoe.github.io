"use strict";(globalThis.webpackChunkeyderoe_blog=globalThis.webpackChunkeyderoe_blog||[]).push([[6990],{3228:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"C++/\u4e09\u65b9\u5e93/\u6570\u636e\u5e8f\u5217\u5316","title":"\u6570\u636e\u5e8f\u5217\u5316","description":"\u6570\u636e\u5e8f\u5217\u5316\u7684\u4e00\u4e9b\u5e93","source":"@site/docs/C++/\u4e09\u65b9\u5e93/\u6570\u636e\u5e8f\u5217\u5316.mdx","sourceDirName":"C++/\u4e09\u65b9\u5e93","slug":"/C++/\u4e09\u65b9\u5e93/\u6570\u636e\u5e8f\u5217\u5316","permalink":"/docs/C++/\u4e09\u65b9\u5e93/\u6570\u636e\u5e8f\u5217\u5316","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"sidebar_position":11},"sidebar":"tutorialSidebar","previous":{"title":"LibTorch","permalink":"/docs/C++/\u4e09\u65b9\u5e93/libtorch"},"next":{"title":"STM32 \xd7 CLion","permalink":"/docs/category/stm32--clion"}}');var i=r(4848),t=r(8453);const a={sidebar_position:11},l="\u6570\u636e\u5e8f\u5217\u5316",c={},d=[{value:"JSON",id:"json",level:2},{value:"\u57fa\u672c\u64cd\u4f5c",id:"\u57fa\u672c\u64cd\u4f5c",level:3},{value:"\u4e00\u822c\u64cd\u4f5c",id:"\u4e00\u822c\u64cd\u4f5c",level:3},{value:"YAML",id:"yaml",level:2},{value:"\u7f16\u8bd1",id:"\u7f16\u8bd1",level:3},{value:"\u57fa\u672c\u4f7f\u7528",id:"\u57fa\u672c\u4f7f\u7528",level:3},{value:"\u4e00\u822c\u64cd\u4f5c",id:"\u4e00\u822c\u64cd\u4f5c-1",level:3}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\u6570\u636e\u5e8f\u5217\u5316",children:"\u6570\u636e\u5e8f\u5217\u5316"})}),"\n",(0,i.jsx)(n.p,{children:"\u6570\u636e\u5e8f\u5217\u5316\u7684\u4e00\u4e9b\u5e93"}),"\n",(0,i.jsx)(n.h2,{id:"json",children:"JSON"}),"\n",(0,i.jsxs)(n.p,{children:["\u7ecf\u5178\u6570\u636e\u5e8f\u5217\u5316\u683c\u5f0f\uff0c\u4f7f\u7528 ",(0,i.jsx)(n.a,{href:"https://github.com/nlohmann/json",children:"nlohmann-json"}),"\u3002\u6781\u81f4\u8f7b\u91cf\u5316\uff08\u4ec5\u5355\u5934\u6587\u4ef6\uff09\u5e76\u5728 Github \u7ed9\u51fa\u4e86\u4e00\u822c\u4f8b\u5b50"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'#include "json.hpp"\r\nusing json = nlohmann::json; // \u4e00\u822c\u7ea6\u5b9a\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u57fa\u672c\u64cd\u4f5c",children:"\u57fa\u672c\u64cd\u4f5c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'// \u89e3\u6790\u6587\u672c\r\njson ex1 = json::parse(R"(\r\n    {\r\n    "pi": 3.141\r\n    }\r\n    )");\r\njson ex2 = "{ \\"happy\\": true, \\"pi\\": 3.141 }"_json; // \u7528\u6237\u5b9a\u4e49\u5b57\u9762\u91cf\u8fd0\u7b97\u7b26\r\n// \u89e3\u6790\u6587\u4ef6\r\nstd::ifstream inputFile;\r\njson ex3 = json::parse(inputFile);\r\n// \u76f4\u63a5\u521d\u59cb\u5316\r\nstd::vector<int> list{1, 3, 5, 7};\r\njson ex4{{"pi", 3.14}, {"array", list}};\r\n// \u5bfc\u51fa\u81f3\u6587\u672c\r\nstd::string out = ex4.dump(4);\r\n// \u5bfc\u51fa\u81f3\u6587\u4ef6\r\nstd::ofstream outputFile;\r\noutputFile << ex4;\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u4e00\u822c\u64cd\u4f5c",children:"\u4e00\u822c\u64cd\u4f5c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'json ex{{"pi", 3.14}, {"array", {"abc", 123, nullptr, true}}};\r\n// \u67e5\u627e\u503c \u517c\u5bb9STL\r\nauto it = ex.find("pi");\r\nif (it != ex.end())\r\n    double pi = it.value();\r\n// \u6570\u7ec4\r\nauto &vec = ex["array"];\r\nvec.push_back(54.8);\n'})}),"\n",(0,i.jsx)(n.h2,{id:"yaml",children:"YAML"}),"\n",(0,i.jsxs)(n.p,{children:["\u53ef\u8bfb\u6027\u66f4\u9ad8\u7684\u4e00\u79cd\u5e8f\u5217\u5316\u683c\u5f0f\uff0c\u8fd9\u91cc\u4f7f\u7528 ",(0,i.jsx)(n.a,{href:"https://github.com/jbeder/yaml-cpp",children:"yaml-cpp 0.8"})," \u7b26\u5408 YAML 1.2 \u6807\u51c6\uff0c\u4e0d\u8fc7\u6ca1 JSON \u5e93\u90a3\u4e48\u597d\u7528"]}),"\n",(0,i.jsx)(n.h3,{id:"\u7f16\u8bd1",children:"\u7f16\u8bd1"}),"\n",(0,i.jsxs)(n.p,{children:["cmake \u7248\u672c\u8fc7\u9ad8\u9700\u8c03\u6574 ",(0,i.jsx)(n.code,{children:"CMakeLists.txt"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cmake",children:"cmake_minimum_required(VERSION 3.5)\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u9996\u5148\u4e0b\u8f7d\u6e90\u7801\u540e\u521b\u5efa\u8fdb\u5165 ",(0,i.jsx)(n.code,{children:"build"})," \u76ee\u5f55"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cmake",children:'cmake -G "MinGW Makefiles" ..\r\nmingw32-make\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u521b\u5efa\u8fdb\u5165 ",(0,i.jsx)(n.code,{children:"install"})," \u76ee\u5f55"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cmake",children:'cmake --install . --prefix "xxx/yaml-cpp-0.8.0/install/lib/cmake"\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u628a ",(0,i.jsx)(n.code,{children:"xxx/yaml-cpp-0.8.0/install"})," \u52a0\u5165\u7cfb\u7edf\u76ee\u5f55"]}),"\n",(0,i.jsx)(n.p,{children:"\u5728 CMakeList \u4e2d\u6709"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cmake",children:"find_package(SQLiteCpp REQUIRED)\r\n\r\ntarget_link_libraries(sql SQLiteCpp)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u57fa\u672c\u4f7f\u7528",children:"\u57fa\u672c\u4f7f\u7528"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'// \u89e3\u6790\u6587\u672c\r\nYAML::Node ex1 = YAML::Load(R"(\r\n    name: Example\r\n    version: 1\r\n    enabled: true\r\n)");\r\n// \u89e3\u6790\u6587\u4ef6\r\nstd::string inputFilePath;\r\nYAML::Node ex2 = YAML::LoadFile(inputFilePath);\r\n// \u76f4\u63a5\u521d\u59cb\u5316\r\nYAML::Node ex3;\r\nex3["name"] = std::vector<int>{1, 2, 3, 4, 5};\r\n// \u5bfc\u51fa\u81f3\u6587\u672c\r\nstd::stringstream stream;\r\nstream << ex3;\r\n// \u5bfc\u51fa\u81f3\u6587\u4ef6\r\nstd::fstream outputFile;\r\noutputFile << ex3;\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u4e00\u822c\u64cd\u4f5c-1",children:"\u4e00\u822c\u64cd\u4f5c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'YAML::Node node;\r\nnode["name"] = std::vector<int>{1, 2, 3, 4, 5};\r\n// \u67e5\u627e\u503c\r\nif (auto exist = node["name"]; exist) {\r\n    if (exist.IsSequence())\r\n        std::vector<int> vec = exist.as<std::vector<int>>();\r\n}\r\n// \u6570\u7ec4\r\nauto vec = node["name"];\r\nvec.push_back(5);\n'})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>l});var s=r(6540);const i={},t=s.createContext(i);function a(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);