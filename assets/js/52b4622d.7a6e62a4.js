"use strict";(globalThis.webpackChunkeyderoe_blog=globalThis.webpackChunkeyderoe_blog||[]).push([[1258],{3938:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>c,toc:()=>d});const c=JSON.parse('{"id":"C++/\u4e09\u65b9\u5e93/libtorch","title":"LibTorch","description":"torch \u7684 C++ \u7248\u672c","source":"@site/docs/C++/\u4e09\u65b9\u5e93/libtorch.mdx","sourceDirName":"C++/\u4e09\u65b9\u5e93","slug":"/C++/\u4e09\u65b9\u5e93/libtorch","permalink":"/docs/C++/\u4e09\u65b9\u5e93/libtorch","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10},"sidebar":"tutorialSidebar","previous":{"title":"Nvidia Cuda","permalink":"/docs/C++/\u4e09\u65b9\u5e93/cuda"},"next":{"title":"\u6570\u636e\u5e8f\u5217\u5316","permalink":"/docs/C++/\u4e09\u65b9\u5e93/\u6570\u636e\u5e8f\u5217\u5316"}}');var t=r(4848),i=r(8453);const o={sidebar_position:10},s="LibTorch",l={},d=[{value:"\u73af\u5883\u642d\u5efa",id:"\u73af\u5883\u642d\u5efa",level:2},{value:"CPU-Only",id:"cpu-only",level:3},{value:"GPU",id:"gpu",level:3}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"libtorch",children:"LibTorch"})}),"\n",(0,t.jsx)(n.p,{children:"torch \u7684 C++ \u7248\u672c"}),"\n",(0,t.jsx)(n.h2,{id:"\u73af\u5883\u642d\u5efa",children:"\u73af\u5883\u642d\u5efa"}),"\n",(0,t.jsx)(n.p,{children:"\u7ecf\u5178\u73af\u8282"}),"\n",(0,t.jsx)(n.h3,{id:"cpu-only",children:"CPU-Only"}),"\n",(0,t.jsxs)(n.p,{children:["CPU \u73af\u5883\u8fd8\u662f\u6bd4\u8f83\u597d\u914d\u7f6e\u7684\uff0c",(0,t.jsx)(n.a,{href:"https://pytorch.org/get-started/locally/",children:"\u5b98\u7f51"}),"\u63d0\u4f9b\u4e86\u7f16\u8bd1\u597d\u7684\u5305"]}),"\n",(0,t.jsxs)(n.p,{children:["\u4e0b\u8f7d\u540e\u89e3\u538b\u5373\u53ef\uff0c\u628a ",(0,t.jsx)(n.code,{children:"xxx\\libtorch\\lib"})," \u52a0\u5165\u73af\u5883\u53d8\u91cf\uff0cCMake \u5927\u6982\u8fd9\u6837\u5199"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmake",children:'cmake_minimum_required(VERSION 3.30)\r\nproject(torch_dev)\r\n\r\nset(CMAKE_CXX_STANDARD 17)\r\n\r\nset(TORCH_PATH "xxx/libtorch")\r\nlist(APPEND CMAKE_PREFIX_PATH "${TORCH_PATH}")\r\nfind_package(Torch REQUIRED)\r\n\r\nadd_executable(torch_dev main.cpp)\r\n\r\ntarget_link_libraries(torch_dev ${TORCH_LIBRARIES})\n'})}),"\n",(0,t.jsxs)(n.p,{children:["\u7531\u4e8e\u5e93\u6709\u70b9\u5927\uff0c\u53ef\u4ee5\u628a torch \u5355\u72ec\u62ff\u51fa\u6765\uff0c\u6709 ",(0,t.jsx)(n.code,{children:"torch_include.hpp"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:"#ifndef TORCH_INCLUDE_HPP\r\n#define TORCH_INCLUDE_HPP\r\n\r\n#include <torch/torch.h>\r\n\r\n#endif //TORCH_INCLUDE_HPP\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u5e76\u4fee\u6539 CMakeList \u6765\u9884\u7f16\u8bd1\u5934\u6587\u4ef6\uff0c\u63d0\u5347\u7f16\u8bd1\u901f\u5ea6"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cmake",children:"target_precompile_headers(torch_dev PRIVATE torch_include.hpp)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"gpu",children:"GPU"}),"\n",(0,t.jsx)(n.p,{children:"CPU \u73af\u5883\u57fa\u7840\u90a3 GPU \u73af\u5883\u5c31\u4e0d\u57fa\u7840 ("})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>s});var c=r(6540);const t={},i=c.createContext(t);function o(e){const n=c.useContext(i);return c.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),c.createElement(i.Provider,{value:n},e.children)}}}]);